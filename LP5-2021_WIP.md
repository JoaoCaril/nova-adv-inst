# Lab 5 - Presential - Logging and real time plotting

## Lab Goal
Build a web application running in the RPi which receive, save and plot realtime sensor data via a WebSocket.


## Pre Lab requirements
Before the lab you should install the required dependencies: 
* [**Flask**](https://flask.palletsprojects.com/en/2.0.x/)
* [**Flask-SocketIO**](https://flask-socketio.readthedocs.io/en/latest/)


## Lab Goals
You will set up a server on the RPi to bot serve webpages and send data via a [WebSocket](https://sookocheff.com/post/networking/how-do-websockets-work/). A WebSocket is a communication protocol enabling fast bidirectional communication between a server and a/multiple client/s. This protocol creates a persistent connection, which reduces the time needed to transfer data between two devices. Another advantage of being persistent is the ability of the server to send messages directly to a client (or even multiple) without being "asked", reducing the unwanted traffic in the network and the synchronization of multiple clients.

## Goal 1 - An Hello World intro to Flask (15 min.)
Before delving into the development of the WebSocket server, we will set up a basic Flask web app.

1. Write a minimal application in Flask which prints "Hello, World!" on a static webpage in your laptop.
2. Copy the Flask app files to the RPi and deploy the webpage in the RPi. (When you run server, you will notice that the server is only accessible from the RPi)
3. Make the server publicly available so you can access it with your laptop and/or smartphone.

Hint: Check the official [Flask quickstart documentation](https://flask.palletsprojects.com/en/2.0.x/quickstart/) and [The Flask Mega-Tutorial Part I](https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world).


## Goal 2 - Intro to WebSockets with Flask (15 min.)
Our web app will rely on Socket.io as our WebSocket interface. Socket.IO is a JavaScript library for realtime web applications. It enables realtime, bi-directional communication between web clients and servers.
To use Socket.io in the server-side (RPi) we will use the Flask-SocketIO Python package. In the webpage we will import the Socket.IO JavaScript library in the html code.

1. Write a Flask app that sends random integers being generated at a frequency of 1 Hz and run in your laptop.
   We already provide some starting code available [here](LP5/Goal_2/). Study the code and complete the 3 TODOs which are identified 
2. Copy the Flask app to the RPi and deploy the server.
3. Make the server publicly available so you can access it with your laptop and/or smartphone.


## Goal 3 - 



